<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EPICS Base: Installation Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EPICS Base
   &#160;<span id="projectnumber">7.0.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation Instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>EPICS Base Release 7.0.3.1</h2>
<hr/>
<h3>Table of Contents</h3>
<ul>
<li><a href="#0_0_1">What is EPICS base?</a></li>
<li><a href="#0_0_2">What is new in this release?</a></li>
<li><a href="#0_0_3">Copyright</a></li>
<li><a href="#0_0_4">Supported platforms</a></li>
<li><a href="#0_0_5">Supported compilers</a></li>
<li><a href="#0_0_6">Software requirements</a></li>
<li><a href="#0_0_7">Host system storage requirements</a></li>
<li><a href="#0_0_8">Documentation</a></li>
<li><a href="#0_0_10">Directory Structure</a></li>
<li><a href="#0_0_11">Build related components</a></li>
<li><a href="#0_0_12">Building EPICS base (Unix and Win32)</a></li>
<li><a href="#0_0_13">Example application and extension</a></li>
<li><a href="#0_0_14">Multiple host platforms</a> <hr/>
</li>
</ul>
<h3>What is EPICS base?</h3>
<p>The Experimental Physics and Industrial Control Systems (EPICS) is an extensible set of software components and tools with which application developers can create a control system. This control system can be used to control accelerators, detectors, telescopes, or other scientific experimental equipment. EPICS base is the set of core software, i.e. the components of EPICS without which EPICS would not function. EPICS base allows an arbitrary number of target systems, IOCs (input/output controllers), and host systems, OPIs (operator interfaces) of various types.</p>
<h3>What is new in this release?</h3>
<p>Please check the <code>RELEASE_NOTES</code> file in the distribution for description of changes and release migration details.</p>
<h3>Copyright</h3>
<p>Please review the LICENSE file included in the distribution for legal terms of usage.</p>
<h3>Supported platforms</h3>
<p>The list of platforms supported by this version of EPICS base is given in the <code>configure/CONFIG_SITE</code> file. If you are trying to build EPICS Base on an unlisted host or for a different target machine you must have the proper host/target cross compiler and header files, and you will have to create and add the appropriate new configure files to the base/configure/os/directory. You can start by copying existing configuration files in the configure/os directory and then make changes for your new platforms.</p>
<h3>Supported compilers</h3>
<p>This version of EPICS base has been built and tested using the host vendor's C and C++ compilers, as well as the GNU gcc and g++ compilers. The GNU cross-compilers work for all cross-compiled targets. You may need the C and C++ compilers to be in your search path to do EPICS builds; check the definitions of CC and CCC in <code>base/configure/os/CONFIG.&lt;host&gt;.&lt;host&gt;</code> if you have problems.</p>
<h3>Software requirements</h3>
<p><b>GNU make</b> You must use GNU make, gnumake, for any EPICS builds. Set your path so that a gnumake version 3.81 or later is available.</p>
<p><b>Perl</b> You must have Perl version 5.8.1 or later installed. The EPICS configuration files do not specify the perl full pathname, so the perl executable must be found through your normal search path.</p>
<p><b>Unzip and tar (Winzip on WIN32 systems)</b> You must have tools available to unzip and untar the EPICS base distribution file.</p>
<p><b>Target systems</b> EPICS supports IOCs running on embedded platforms such as VxWorks and RTEMS built using a cross-compiler, and also supports soft IOCs running as processes on the host platform.</p>
<p><b>vxWorks</b> You must have vxWorks 6.8 or later installed if any of your target systems are vxWorks systems; the C++ compiler from older versions cannot compile recently developed code. The vxWorks installation provides the cross-compiler and header files needed to build for these targets. The absolute path to and the version number of the vxWorks installation must be set in the <code>base/configure/os/CONFIG_SITE.Common.vxWorksCommon</code> file or in one of its target-specific overrides.</p>
<p>Consult the <a href="https://epics.anl.gov/base/vxWorks6.php">vxWorks 6.x</a> EPICS web pages about and the vxWorks documentation for information about configuring your vxWorks operating system for use with EPICS.</p>
<p><b>RTEMS</b> For RTEMS targets, you need RTEMS core and toolset version 4.9.x or 4.10.x (4.11 or 5.x are not yet supported).</p>
<p><b>GNU readline or Tecla library</b> GNU readline and Tecla libraries can be used by the IOC shell to provide command line editing and command line history recall and edit. GNU readline (or Tecla library) must be installed on your target system when <code>COMMANDLINE_LIBRARY</code> is set to READLINE (or TECLA) for that target. EPICS (EPICS shell) is the default specified in <code>CONFIG_COMMON</code>. A READLINE override is defined for linux-x86 in the EPICS distribution. Comment out <code>COMMANDLINE_LIBRARY=READLINE</code> in <code>configure/os/CONFIG_SITE.Common.linux-x86</code> if readline is not installed on linux-x86. Command-line editing and history will then be those supplied by the os. On vxWorks the ledLib command-line input library is used instead.</p>
<h3>Host system storage requirements</h3>
<p>The compressed tar file is approximately 1.6 MB in size. The distribution source tree takes up approximately 12 MB. Each host target will need around 40 MB for build files, and each cross-compiled target around 20 MB.</p>
<h3>Documentation</h3>
<p>EPICS documentation is available through the <a href="https://epics.anl.gov/">EPICS website</a> at Argonne.</p>
<p>Release specific documentation can also be found in the base/documentation directory of the distribution.</p>
<h3>Directory Structure</h3>
<h4>Distribution directory structure:</h4>
<div class="fragment"><div class="line">base                    Root directory of the base distribution</div><div class="line">base/configure          Operating system independent build config files</div><div class="line">base/configure/os       Operating system dependent build config files</div><div class="line">base/documentation      Distribution documentation</div><div class="line">base/src                Source code in various subdirectories</div><div class="line">base/startup            Scripts for setting up path and environment</div></div><!-- fragment --><h4>Install directories created by the build:</h4>
<div class="fragment"><div class="line">bin                     Installed scripts and executables in subdirs</div><div class="line">cfg                     Installed build configuration files</div><div class="line">db                      Installed data bases</div><div class="line">dbd                     Installed data base definitions</div><div class="line">doc                     Installed documentation files</div><div class="line">html                    Installed html documentation</div><div class="line">include                 Installed header files</div><div class="line">include/os              Installed os specific header files in subdirs</div><div class="line">include/compiler        Installed compiler-specific header files</div><div class="line">lib                     Installed libraries in arch subdirectories</div><div class="line">lib/perl                Installed perl modules</div><div class="line">templates               Installed templates</div></div><!-- fragment --><h3>Build related components</h3>
<h4>base/documentation directory - contains setup, build, and install documents</h4>
<div class="fragment"><div class="line">README.md            Instructions for setup and building epics base</div><div class="line">README.darwin.html   Installation notes for Mac OS X (Darwin)</div><div class="line">RELEASE_NOTES.html   Notes on release changes</div><div class="line">KnownProblems.html   List of known problems and workarounds</div></div><!-- fragment --><h4>base/startup directory - contains scripts to set environment and path</h4>
<div class="fragment"><div class="line">EpicsHostArch       Shell script to set EPICS_HOST_ARCH env variable</div><div class="line">unix.csh            C shell script to set path and env variables</div><div class="line">unix.sh             Bourne shell script to set path and env variables</div><div class="line">win32.bat           Bat file example to configure win32-x86 target</div><div class="line">windows.bat         Bat file example to configure windows-x64 target</div></div><!-- fragment --><h4>base/configure directory - contains build definitions and rules</h4>
<div class="fragment"><div class="line">CONFIG                Includes configure files and allows variable overrides</div><div class="line">CONFIG.CrossCommon    Cross build definitions</div><div class="line">CONFIG.gnuCommon      Gnu compiler build definitions for all archs</div><div class="line">CONFIG_ADDONS         Definitions for &lt;osclass&gt; and DEFAULT options</div><div class="line">CONFIG_APP_INCLUDE</div><div class="line">CONFIG_BASE           EPICS base tool and location definitions</div><div class="line">CONFIG_BASE_VERSION   Definitions for EPICS base version number</div><div class="line">CONFIG_COMMON         Definitions common to all builds</div><div class="line">CONFIG_ENV            Definitions of EPICS environment variables</div><div class="line">CONFIG_FILE_TYPE</div><div class="line">CONFIG_SITE           Site specific make definitions</div><div class="line">CONFIG_SITE_ENV       Site defaults for EPICS environment variables</div><div class="line">MAKEFILE              Installs CONFIG* RULES* creates</div><div class="line">RELEASE               Location of external products</div><div class="line">RULES                 Includes appropriate rules file</div><div class="line">RULES.Db              Rules for database and database definition files</div><div class="line">RULES.ioc             Rules for application iocBoot/ioc* directory</div><div class="line">RULES_ARCHS           Definitions and rules for building architectures</div><div class="line">RULES_BUILD           Build and install rules and definitions</div><div class="line">RULES_DIRS            Definitions and rules for building subdirectories</div><div class="line">RULES_EXPAND</div><div class="line">RULES_FILE_TYPE</div><div class="line">RULES_TARGET</div><div class="line">RULES_TOP             Rules specific to a &lt;top&gt; dir (uninstall and tar)</div><div class="line">Sample.Makefile       Sample makefile with comments</div></div><!-- fragment --><h4>base/configure/os directory - contains os-arch specific definitions</h4>
<div class="fragment"><div class="line">CONFIG.&lt;host&gt;.&lt;target&gt;      Specific host-target build definitions</div><div class="line">CONFIG.Common.&lt;target&gt;      Specific target definitions for all hosts</div><div class="line">CONFIG.&lt;host&gt;.Common        Specific host definitions for all targets</div><div class="line">CONFIG.UnixCommon.Common    Definitions for Unix hosts and all targets</div><div class="line">CONFIG.Common.UnixCommon    Definitions for Unix targets and all hosts</div><div class="line">CONFIG.Common.vxWorksCommon Specific host definitions for all vx targets</div><div class="line">CONFIG_SITE.&lt;host&gt;.&lt;target&gt; Site specific host-target definitions</div><div class="line">CONFIG_SITE.Common.&lt;target&gt; Site specific target defs for all hosts</div><div class="line">CONFIG_SITE.&lt;host&gt;.Common   Site specific host defs for all targets</div></div><!-- fragment --><h3>Building EPICS base (Unix and Win32)</h3>
<h4>Unpack file</h4>
<p>Unzip and untar the distribution file. Use WinZip on Windows systems.</p>
<h4>Set environment variables</h4>
<p>Files in the base/startup directory have been provided to help set required path and other environment variables.</p>
<ul>
<li><code>EPICS_HOST_ARCH</code> Before you can build or use EPICS R3.15, the environment variable <code>EPICS_HOST_ARCH</code> must be defined. A perl script EpicsHostArch.pl in the base/startup directory has been provided to help set <code>EPICS_HOST_ARCH.</code> You should have <code>EPICS_HOST_ARCH</code> set to your host operating system followed by a dash and then your host architecture, e.g. solaris-sparc. If you are not using the OS vendor's c/c++ compiler for host builds, you will need another dash followed by the alternate compiler name (e.g. "-gnu" for GNU c/c++ compilers on a solaris host or "-mingw" for MinGW c/c++ compilers on a WIN32 host). See <code>configure/CONFIG_SITE</code> for a list of supported <code>EPICS_HOST_ARCH</code> values.</li>
<li><code>PERLLIB</code> On WIN32, some versions of Perl require that the environment variable PERLLIB be set to &lt;perl directory location&gt;.</li>
<li><code>PATH</code> As already mentioned, you must have the perl executable and you may need C and C++ compilers in your search path. For building base you also must have echo in your search path. For Unix host builds you also need ln, cpp, cp, rm, mv, and mkdir in your search path and /bin/chmod must exist. On some Unix systems you may also need ar and ranlib in your path, and the C compiler may require as and ld in your path. On solaris systems you need uname in your path.</li>
<li><code>LD_LIBRARY_PATH</code> R3.15 shared libraries and executables normally contain the full path to any libraries they require. However, if you move the EPICS files or directories from their build-time location then in order for the shared libraries to be found at runtime <code>LD_LIBRARY_PATH</code> must include the full pathname to <code>/lib/linux-x86_64</code> when invoking executables, or some equivalent OS-specific mechanism (such as /etc/ld.so.conf on Linux) must be used. Shared libraries are now built by default on all Unix type hosts.</li>
</ul>
<h4>Do site-specific build configuration</h4>
<p><b>Site configuration</b> To configure EPICS, you may want to modify the default definitions in the following files:</p>
<div class="fragment"><div class="line">configure/CONFIG_SITE      Build choices. Specify target archs.</div><div class="line">configure/CONFIG_SITE_ENV  Environment variable defaults</div><div class="line">configure/RELEASE          TORNADO2 full path location</div></div><!-- fragment --><p><b>Host configuration</b> To configure each host system, you may override the default definitions by adding a new file in the configure/os directory with override definitions. The new file should have the same name as the distribution file to be overridden except with CONFIG in the name changed to <code>CONFIG_SITE</code>.</p>
<div class="fragment"><div class="line">configure/os/CONFIG.&lt;host&gt;.&lt;host&gt;      Host build settings</div><div class="line">configure/os/CONFIG.&lt;host&gt;.Common      Host common build settings</div></div><!-- fragment --><p><b>Target configuration</b> To configure each target system, you may override the default definitions by adding a new file in the configure/os directory with override definitions. The new file should have the same name as the distribution file to be overridden except with CONFIG in the name replaced by <code>CONFIG_SITE</code>. This step is necessary even if the host system is the only target system.</p>
<div class="fragment"><div class="line">configure/os/CONFIG.Common.&lt;target&gt;     Target common settings</div><div class="line">configure/os/CONFIG.&lt;host&gt;.&lt;target&gt;     Host-target settings</div></div><!-- fragment --><h4>Build EPICS base</h4>
<p>After configuring the build you should be able to build EPICS base by issuing the following commands in the distribution's root directory (base):</p>
<div class="fragment"><div class="line">gnumake clean uninstall</div><div class="line">gnumake</div></div><!-- fragment --><p>The command "gnumake clean uninstall" will remove all files and directories generated by a previous build. The command "gnumake" will build and install everything for the configured host and targets.</p>
<p>It is recommended that you do a "gnumake clean uninstall" at the root directory of an EPICS directory structure before each complete rebuild to ensure that all components will be rebuilt.</p>
<h3>Example application and extension</h3>
<p>A perl tool, makeBaseApp.pl is included in the distribution file. This script will create a sample application that can be built and then executed to try out this release of base.</p>
<p>Instructions for building and executing the 3.15 example application can be found in the section "Example Application" of Chapter 2, "Getting Started", in the "IOC Application Developer's Guide" for this release. The "Example IOC Application" section briefly explains how to create and build an example application in a user created &lt;top&gt; directory. It also explains how to run the example application on a vxWorks ioc or as a process on the host system. By running the example application as a host-based IOC, you will be able to quickly implement a complete EPICS system and be able to run channel access clients on the host system.</p>
<p>A perl script, makeBaseExt.pl, is included in the distribution file. This script will create a sample extension that can be built and executed. The makeBaseApp.pl and makeBaseExt.pl scripts are installed into the install location <code>bin/&lt;hostarch&gt;</code> directory during the base build.</p>
<h3>Multiple host platforms</h3>
<p>You can build using a single EPICS directory structure on multiple host systems and for multiple cross target systems. The intermediate and binary files generated by the build will be created in separate subdirectories and installed into the appropriate separate host/target install directories. EPICS executables and perl scripts are installed into the <code>/bin/&lt;arch&gt;</code> directories. Libraries are installed into $<code>(INSTALL_LOCATION)/lib/&lt;arch&gt;</code>. The default definition for <code></code> is <code>../..</code> which is the root directory in the distribution directory structure, base. Created object files are stored in <code>O.&lt;arch&gt;</code> source subdirectories, This allows objects for multiple cross target architectures to be maintained at the same time. To build EPICS base for a specific host/target combination you must have the proper host/target C/C++ cross compiler and target header files and the base/configure/os directory must have the appropriate configure files. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 14 2020 12:58:34 for EPICS Base by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
