<html><head><title>dbCommonRecord</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="style.css">

</head>
<body class='pod'>
<!--
  generated by EPICS::PodHtml v,
  using Pod::Simple::PullParser v3.35,
  under Perl v5.028001 at Tue Jul 28 14:38:58 2020 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to EPICS::PodHtml, and/or subclassing EPICS::PodHtml,
   then reconverting this document from the Pod source.
   When in doubt, email the author of EPICS::PodHtml for advice.
   See 'perldoc EPICS::PodHtml' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>
<div class="pod">


<h1><a class='u'
name="Fields-Common-to-All-Record-Types"
>Fields Common to All Record Types</a></h1>

<p>This section contains a description of the fields that are common to all record types.
These fields are defined in dbCommon.dbd.</p>

<p>See also <a href="dbCommonInput.html" class="podlinkpod"
>Fields Common to Input Record Types</a> and <a href="dbCommonOutput.html" class="podlinkpod"
>Fields Common to Output Record Types</a>.</p>

<h3><a class='u'
name="Operator-Display-Parameters"
>Operator Display Parameters</a></h3>

<p>The <b>NAME</b> field contains the record name which must be unique within an EPICS Channel Access name space.
The name is supplied by the application developer and is the means of identifying a specific record.
The name has a maximum length of 60 characters and should use only this limited set of characters:</p>

<pre> a-z A-Z 0-9 _ - : [ ] &#60; &#62; ;</pre>

<p>The <b>DESC</b> field may be set to provide a meaningful description of the record&#39;s purpose. Maximum length is 40 characters.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">NAME</td><td class="cell">Record Name</td><td class="cell">STRING [61]</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">DESC</td><td class="cell">Descriptor</td><td class="cell">STRING [41]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Scan-Fields"
>Scan Fields</a></h3>

<p>These fields contain information related to how and when a record processes. A few records have unique fields that also affect how they process. These fields, if any, will be listed and explained in the section for each record.</p>

<p>The <b>SCAN</b> field specifies the scanning period for periodic record scans or the scan type for non-periodic record scans. The default set of values for SCAN can be found in <a href="menuScan.html" class="podlinkpod"
>menuScan.dbd</a>.</p>

<p>The choices provided by this menu are:</p>

<ul>
<li><code>Passive</code> for the record scan to be triggered by other records or Channel Access</li>

<li><code>Event</code> for event-driven scan</li>

<li><code>I/O Intr</code> for interrupt-driven scan</li>

<li>A set of periodic scan intervals</li>
</ul>

<p>Additional periodic scan rates may be defined for individual IOCs by making a local copy of menuScan.dbd and adding more choices as required. Scan rates should normally be defined in order, with the fastest rates appearing first. Scan periods may now be specified in seconds, minutes, hours or Hertz/Hz, and plural time units will also be accepted (seconds are used if no unit is mentioned in the choice string). For example the rates given below are all valid:</p>

<pre> 1 hour
 0.5 hours
 15 minutes
 3 seconds
 1 second
 2 Hertz</pre>

<p>The <b>PINI</b> field specifies record processing at initialization. If it is set to YES during database configuration, the record is processed once at IOC initialization (before the normal scan tasks are started).</p>

<p>The <b>PHAS</b> field orders the records within a specific SCAN group. This is not meaningful for passive records. All records of a specified phase are processed before those with higher phase number. Whenever possible it is better to use linked passive records to enforce the order of processing rather than a phase number.</p>

<p>The <b>EVNT</b> field specifies an event number. This event number is used if the SCAN field is set to <code>Event</code>. All records with scan type <code>Event</code> and the same EVNT value will be processed when a call to post_event for EVNT is made. The call to post_event is: post_event(short event_number).</p>

<p>The <b>PRIO</b> field specifies the scheduling priority for processing records with SCAN=<code>I/O Event</code> and asynchronous record completion tasks.</p>

<p>The <b>DISV</b> field specifies a &#34;disable value&#34;. Record processing is immediately terminated if the value of this field is equal to the value of the DISA field, i.e. the record is disabled. Note that field values of a record can be changed by database put or Channel Access, even if a record is disabled.</p>

<p>The <b>DISA</b> field contains the value that is compared with DISV to determine if the record is disabled. The value of the DISA field is obtained via SDIS if SDIS is a database or channel access link. If SDIS is not a database or channel access link, then DISA can be set via dbPutField or dbPutLink.</p>

<p>If the <b>PROC</b> field of a record is written to, the record is processed.</p>

<p>The <b>DISS</b> field defines the record&#39;s &#34;disable severity&#34;. If this field is not NO_ALARM and the record is disabled, the record will be put into alarm with this severity and a status of DISABLE_ALARM.</p>

<p>The <b>LSET</b> field contains the lock set to which this record belongs. All records linked in any way via input, output, or forward database links belong to the same lock set. Lock sets are determined at IOC initialization time, and are updated whenever a database link is added, removed or altered.</p>

<p>The <b>LCNT</b> field counts the number of times dbProcess finds the record active during successive scans, i.e. PACT is TRUE. If dbProcess finds the record active MAX_LOCK times (currently set to 10) it raises a SCAN_ALARM.</p>

<p>The <b>PACT</b> field is TRUE while the record is being processed. For asynchronous records PACT can be TRUE from the time record processing is started until the asynchronous completion occurs. As long as PACT is TRUE, dbProcess will not call the record processing routine. See Application Developers Guide for details on usage of PACT.</p>

<p>The <b>FLNK</b> field is a database link to another record (the &#34;target&#34; record). Processing a record with a specified FLNK field will force processing of the target record, provided the target record&#39;s SCAN field is set to <code>Passive</code>.</p>

<p>The <b>SPVT</b> field is for internal use by the scanning system.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">SCAN</td><td class="cell">Scan Mechanism</td><td class="cell">MENU (<a href='menuScan.html'>menuScan</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">PINI</td><td class="cell">Process at iocInit</td><td class="cell">MENU (<a href='menuPini.html'>menuPini</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">PHAS</td><td class="cell">Scan Phase</td><td class="cell">SHORT</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">EVNT</td><td class="cell">Event Name</td><td class="cell">STRING [40]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">PRIO</td><td class="cell">Scheduling Priority</td><td class="cell">MENU (<a href='menuPriority.html'>menuPriority</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">DISV</td><td class="cell">Disable Value</td><td class="cell">SHORT</td><td class="cell">Yes</td><td class="cell">1</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">DISA</td><td class="cell">Disable</td><td class="cell">SHORT</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SDIS</td><td class="cell">Scanning Disable</td><td class="cell">INLINK</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">PROC</td><td class="cell">Force Processing</td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">DISS</td><td class="cell">Disable Alarm Sevrty</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">LCNT</td><td class="cell">Lock Count</td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">PACT</td><td class="cell">Record active</td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">FLNK</td><td class="cell">Forward Process Link</td><td class="cell">FWDLINK</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">SPVT</td><td class="cell">Scan Private</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Alarm-Fields"
>Alarm Fields</a></h3>

<p>These fields indicate the status and severity of alarms, or else determine the how and when alarms are triggered. Of course, many records have alarm-related fields not common to all records. These fields are listed and explained in the appropriate section on each record.</p>

<p>The <b>STAT</b> field contains the current alarm status.</p>

<p>The <b>SEVR</b> field contains the current alarm severity.</p>

<p>These two fields are seen outside database access. The <b>NSTA</b> and <b>NSEV</b> fields are used by the database access, record support, and device support routines to set new alarm status and severity values. Whenever any software component discovers an alarm condition, it uses the following macro function: recGblSetSevr(precord,new_status,new_severity) This ensures that the current alarm severity is set equal to the highest outstanding alarm. The file alarm.h defines all allowed alarm status and severity values.</p>

<p>The <b>ACKS</b> field contains the highest unacknowledged alarm severity.</p>

<p>The <b>ACKT</b> field specifies if it is necessary to acknowledge transient alarms.</p>

<p>The <b>UDF</b> indicates if the record&#39;s value is <b>U</b>n<b>D</b>e<b>F</b>ined. Typically this is caused by a failure in device support, the fact that the record has never been processed, or that the VAL field currently contains a NaN (not a number). UDF is initialized to TRUE at IOC initialization. Record and device support routines which write to the VAL field are responsible for setting UDF.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">STAT</td><td class="cell">Alarm Status</td><td class="cell">MENU (<a href='menuAlarmStat.html'>menuAlarmStat</a>)</td><td class="cell">No</td><td class="cell">UDF</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">SEVR</td><td class="cell">Alarm Severity</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">NSTA</td><td class="cell">New Alarm Status</td><td class="cell">MENU (<a href='menuAlarmStat.html'>menuAlarmStat</a>)</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">NSEV</td><td class="cell">New Alarm Severity</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">ACKS</td><td class="cell">Alarm Ack Severity</td><td class="cell">MENU (<a href='menuAlarmSevr.html'>menuAlarmSevr</a>)</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">ACKT</td><td class="cell">Alarm Ack Transient</td><td class="cell">MENU (<a href='menuYesNo.html'>menuYesNo</a>)</td><td class="cell">Yes</td><td class="cell">YES</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">UDF</td><td class="cell">Undefined</td><td class="cell">UCHAR</td><td class="cell">Yes</td><td class="cell">1</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

</table></blockquote>


<h3><a class='u'
name="Device-Fields"
>Device Fields</a></h3>

<p>The <b>RSET</b> field contains the address of the Record Support Entry Table. See the Application Developers Guide for details on usage.</p>

<p>The <b>DSET</b> field contains the address of Device Support Entry Table. The value of this field is determined at IOC initialization time. Record support routines use this field to locate their device support routines.</p>

<p>The <b>DPVT</b> field is is for private use of the device support modules.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">RSET</td><td class="cell">Address of RSET</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">DSET</td><td class="cell">DSET address</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">DPVT</td><td class="cell">Device Private</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Debugging-Fields"
>Debugging Fields</a></h3>

<p>The <b>TPRO</b> field is used for trace processing. If this field is non-zero a message is printed whenever this record is processed, and when any other record in the same lock-set is processed by a database link from this record.</p>

<p>The <b>BKPT</b> field indicates if there is a breakpoint set at this record. This supports setting a debug breakpoint in the record processing. STEP through database processing can be supported using this.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">TPRO</td><td class="cell">Trace Processing</td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">BKPT</td><td class="cell">Break Point</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

</table></blockquote>


<h3><a class='u'
name="Miscellaneous-Fields"
>Miscellaneous Fields</a></h3>

<p>The <b>ASG</b> field contains a character string value defining the access security group for this record. If left empty, the record is placed in group DEFAULT.</p>

<p>The <b>ASP</b> field is a field for private use of the access security system.</p>

<p>The <b>DISP</b> field controls dbPutFields to this record which are normally issued by channel access. If the field is set to TRUE all dbPutFields directed to this record are ignored except to the field DISP itself.</p>

<p>The <b>DTYP</b> field specifies the device type for the record. Each record type has its own set of device support routines which are specified in devSup.ASCII. If a record type does not have any associated device support, DTYP and DSET are meaningless.</p>

<p>The <b>MLOK</b> field contains the monitor lock. The lock used by the monitor routines when the monitor list is being used. The list is locked whenever monitors are being scheduled, invoked, or when monitors are being added to or removed from the list. This field is accessed only by the dbEvent routines.</p>

<p>The <b>MLIS</b> field is the head of the list of monitors connected to this record. Each record support module is responsible for triggering monitors for any fields that change as a result of record processing. Monitors are present if mlis count is greater than zero. The call to trigger monitors is: db_post_event(precord,&#38;data,mask), where &#34;mask&#34; is some combination of DBE_ALARM, DBE_VALUE, and DBE_LOG.</p>

<p>The <b>PPN</b> field contains the address of a putNotify callback.</p>

<p>The <b>PPNR</b> field contains the next record for PutNotify.</p>

<p>The <b>PUTF</b> field is set to TRUE if dbPutField caused the current record processing.</p>

<p>The <b>RDES</b> field contains the address of dbRecordType</p>

<p>The <b>RPRO</b> field specifies a reprocessing of the record when current processing completes.</p>

<p>The <b>TIME</b> field contains the time when this record was last processed in standard format.</p>

<p>The <b>TSE</b> field indicates the mechanism to use to get the time stamp. &#39;0&#39; - call get time as before &#39;-1&#39; - call the time stamp driver and use the best source available. &#39;-2&#39; - the device support provides the time stamp from the hardware. Values between 1-255 request the time of the last occurance of a generalTime event.</p>

<p>The <b>TSEL</b> field contains an input link for obtaining the time stamp. If this link references the .TIME field of a record then the time stamp of the referenced record becomes the time stamp for this record as well. In this case, an internal flag is set and &#34;.TIME&#34; is then overwritten by &#34;.VAL&#34;. If any other field is referenced, the field value is read and stored in the .TSE field which is then used to acquire a timestamp.</p>
<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">ASG</td><td class="cell">Access Security Group</td><td class="cell">STRING [29]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">ASP</td><td class="cell">Access Security Pvt</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">DISP</td><td class="cell">Disable putField</td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">DTYP</td><td class="cell">Device Type</td><td class="cell">DEVICE</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">MLOK</td><td class="cell">Monitor lock</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">MLIS</td><td class="cell">Monitor List</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">PPN</td><td class="cell">pprocessNotify</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">PPNR</td><td class="cell">pprocessNotifyRecord</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">PUTF</td><td class="cell">dbPutField process</td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">RDES</td><td class="cell">Address of dbRecordType</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">RPRO</td><td class="cell">Reprocess </td><td class="cell">UCHAR</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">TIME</td><td class="cell">Time</td><td class="cell">NOACCESS</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">No</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">TSE</td><td class="cell">Time Stamp Event</td><td class="cell">SHORT</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

<tr><td class="cell">TSEL</td><td class="cell">Time Stamp Link</td><td class="cell">INLINK</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

</table></blockquote>

</div>


<!-- end doc -->

</body></html>
